{
    "lang": "ruby",
    "custom steps": {
        "install executable gems": [
            "sudo gem install jekyll",
            "sudo gem install redcarpet",
            "sudo gem install albino",
            "sudo gem install rdiscount",
            "sudo gem install sass"
        ],
        "generate site": [
            "sass --style compressed assets/scss/styles.scss:assets/css/styles.min.css --debug-info",
            "jekyll"
        ]
    },
    "deploy": [
        "cd $HOME",
        "wget -O- -q http://s3tools.org/repo/deb-all/stable/s3tools.key | sudo apt-key add -",
        "sudo wget -O/etc/apt/sources.list.d/s3tools.list http://s3tools.org/repo/deb-all/stable/s3tools.list",
        "sudo apt-get update && sudo apt-get install s3cmd",
        "echo '[default]' > .s3cfg",
        "echo \"access_key=$AWS_ACCESS_KEY_ID\" >> .s3cfg",
        "echo \"secret_key=$AWS_SECRET_ACCESS_KEY\" >> .s3cfg",
        "cd $WERCKER_ROOT/_site",
        "s3cmd sync --acl-public --delete-removed ./ s3://born2code.net/"
    ]
}
